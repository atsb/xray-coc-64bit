[logic]
active = ph_idle@wait

[ph_idle@wait] 
on_info = {=actor_in_zone(zat_a2_sr_noweap) !actor_in_zone(zat_a2_sr_light) !check_smart_alarm_status(zat_stalker_base_smart:normal)} ph_idle@pleaseplease

[ph_idle@pleaseplease]
on_info =  {=check_smart_alarm_status(zat_stalker_base_smart:danger)} %=play_sound(zat_a2_base_megaphone)%
on_info2 = {=check_smart_alarm_status(zat_stalker_base_smart:alarm)} ph_idle@swear
on_info3 = {=check_smart_alarm_status(zat_stalker_base_smart:normal)} ph_idle@wait
on_info4 = {!actor_in_zone(zat_a2_sr_noweap)} ph_idle@wait
on_info5 = {=actor_in_zone(zat_a2_sr_light)} ph_idle@wait

[ph_idle@swear]
on_info = {!check_smart_alarm_status(zat_stalker_base_smart:alarm)} ph_idle@spawn
on_info2 = {!actor_in_zone(zat_a2_sr_noweap)} ph_idle@spawn
on_info3 = {=actor_in_zone(zat_a2_sr_light)} ph_idle@wait

[ph_idle@spawn]
on_info = ph_idle@wait
